import Rectangle from "./rectangle.js";

export default class TitleLogo extends Rectangle {
    constructor(scene, {x, y}) {
        super(scene, {x, y, width: 256, height: 256});
        this.type = "titlelogo";
        this.letters = [
            [3,3,23,1,29,8,33,93,55,96,55,11,62,3,83,4,83,112,75,123,13,124,0,113],
            [92,3,124,4,148,54,149,6,180,4,176,119,151,121,121,64,119,119,91,121],
            [189,4,218,4,243,52,246,3,276,2,271,120,248,121,217,64,215,120,188,120],
            [290,5,353,1,364,15,367,119,339,122,337,84,313,86,314,63,337,61,335,29,313,33,308,121,281,120,284,13],
            [372,2,452,2,452,31,429,32,425,120,397,122,396,35,371,32],
            [462,0,484,0,490,8,494,95,515,95,515,8,520,1,544,3,545,112,537,120,471,123,461,115],
            [554,1,625,7,635,15,636,75,628,88,616,89,632,114,608,121,590,90,584,89,584,64,606,64,605,28,582,28,580,117,551,123],
            [653,5,715,2,726,16,728,120,697,121,697,84,675,86,675,61,698,61,696,31,674,31,669,120,641,122,647,11],
            [735,3,765,5,765,93,805,93,808,121,735,121],
            [339,152,419,156,429,171,433,216,421,227,433,238,434,288,420,299,371,301,372,271,401,262,401,235,372,233,372,208,398,211,396,184,369,181,367,302,336,301],
            [457,155,533,153,546,168,551,299,514,299,512,252,482,255,483,225,513,223,510,186,484,189,479,299,445,297,450,163],
            [560,152,593,156,594,265,643,265,648,297,559,299],
            [669,156,748,154,757,169,761,296,726,300,726,250,695,253,697,224,726,222,724,186,697,189,691,298,656,299],
            [771,153,808,154,839,215,841,156,877,155,875,295,843,299,808,228,804,296,769,300],
            [900,153,976,156,989,165,987,201,956,200,951,181,925,183,928,272,954,272,956,254,987,257,991,286,984,297,901,299,887,291,890,164],
            [999,153,1081,156,1082,186,1036,187,1034,205,1064,206,1065,233,1036,233,1036,263,1084,266,1085,296,999,301]
        ];

    }
    update(deltaTime) {
        super.update(deltaTime); 
    }
    render(ctx) {
        [
            ['#420', '#420', 1, 15],
            ['#630', '#630', 2, 12], 
            ['#950', '#950', 3, 8], 
            ['#c70', '#c70', 4, 4], 
            ['#fc0', '#420', 8, 0],
            ['#fc0', '#fc0', 5, 0]
        ].forEach(([fill, stroke, strokeWidth, yOffset,]) => {
            ctx.save();
            ctx.translate(this.x, this.y);
            ctx.fillStyle = fill;
            if(stroke) {
                ctx.strokeStyle = stroke;
                ctx.lineWidth = strokeWidth;
            }
            for(let i = 0; i < this.letters.length; i++) {
                let letter = this.letters[i];
                ctx.beginPath();
                for(let j = 0; j < letter.length; j+=2) {
                    let x = letter[j] ;
                    let y = letter[j+1] + yOffset;
                    if(j == 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.closePath();
                ctx.fill();
                if(stroke) {
                    ctx.stroke();
                }
            }
            ctx.restore();
        });
    }
}